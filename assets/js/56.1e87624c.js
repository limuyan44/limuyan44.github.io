(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{553:function(t,e,n){"use strict";n.r(e);var r=n(6),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"使用rewrite模块进行url的改写"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用rewrite模块进行url的改写"}},[t._v("#")]),t._v(" 使用rewrite模块进行url的改写")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("rewrite   <regex>   <replacement>    [flag];\n\n关键字    正则      替代内容     flag标记\n\n\n\n关键字：其中关键字 不能改变(此关键字必须有)\n正则：perl兼容正则表达式语句进行规则匹配\n\n替代内容：将正则匹配的内容替换成replacement\n\nflag标记：rewrite支持的flag标记 使用$+数字配置正则组的内容，从1开始。 如 $1代表第一处正则匹配的内容\n\nflag标记说明：\n\nlast     #本条规则匹配完成后，继续向下匹配新的location URI规则\n\nbreak     #本条规则匹配完成即终止，不再匹配后面的任何规则\n\nredirect   #返回302临时重定向，浏览器地址会显示跳转后的URL地址\n\npermanent #返回301永久重定向，浏览器地址栏会显示跳转后的URL地址\n")])])]),n("p",[t._v("例子")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("location ~ (^/bmp/*)(.*)\\.(jpg|gif|htm|html|png|js|css|exe|json|ioc|APK|zip)$ {\n                    root D:/git/vx-merchant-pc/;\n                    rewrite ^/bmp/(.*)$ /$1 break;\n            expires 0s;\n                }\n")])])]),n("p",[t._v("这是将对bmp的请求转发到我本地的工程里面去，会在root下面直接寻找 bmp后面的路径，其中 $1 代表正则匹配的内容， 1代表第一处。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("if ( $host != 'www.zycat.top'  ) {\n\n                rewrite ^/(.*) http://www.zycat.top/$1 permanent;\n\n        }\n }\n")])])]),n("p",[t._v("把对这个服务器的所有请求都转发到http://www.zycat.top/ 下面")])])}),[],!1,null,null,null);e.default=a.exports}}]);